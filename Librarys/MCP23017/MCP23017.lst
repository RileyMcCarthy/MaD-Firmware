00000                 | 
00000                 | #line 1 "C:/Users/riley.m/Tensile-Testing-Machine/Firmware/MaD_Firmware/Librarys/MCP23017/MCP23017.c"
00000                 | #line 1 "MCP23017.h"
00000                 | #line 4 "MCP23017.h"
00000                 | #line 1 "C:/flexprop/include/simpletools.h"
00000                 | #line 9 "C:/flexprop/include/simpletools.h"
00000                 | #line 1 "C:/flexprop/include/propeller2.h"
00000                 | #line 4 "C:/flexprop/include/propeller2.h"
00000                 | #line 1 "C:/flexprop/include/stdint.h"
00000                 | 
00000                 | 
00000                 | 
00000                 | typedef signed char int8_t;
00000                 | typedef unsigned char uint8_t;
00000                 | 
00000                 | typedef signed short int16_t;
00000                 | typedef unsigned short uint16_t;
00000                 | 
00000                 | typedef signed long int32_t;
00000                 | typedef unsigned long uint32_t;
00000                 | 
00000                 | typedef long long int64_t;
00000                 | typedef unsigned long long uint64_t;
00000                 | 
00000                 | typedef unsigned long uintptr_t;
00000                 | typedef long intptr_t;
00000                 | 
00000                 | typedef int64_t intmax_t;
00000                 | typedef uint64_t uintmax_t;
00000                 | 
00000                 | typedef int8_t int_least8_t;
00000                 | typedef int16_t int_least16_t;
00000                 | typedef int32_t int_least32_t;
00000                 | typedef int64_t int_least64_t;
00000                 | 
00000                 | typedef uint8_t uint_least8_t;
00000                 | typedef uint16_t uint_least16_t;
00000                 | typedef uint32_t uint_least32_t;
00000                 | typedef uint64_t uint_least64_t;
00000                 | 
00000                 | typedef int32_t int_fast8_t;
00000                 | typedef int32_t int_fast16_t;
00000                 | typedef int32_t int_fast32_t;
00000                 | typedef int64_t int_fast64_t;
00000                 | 
00000                 | typedef uint32_t uint_fast8_t;
00000                 | typedef uint32_t uint_fast16_t;
00000                 | typedef uint32_t uint_fast32_t;
00000                 | typedef uint64_t uint_fast64_t;
00000                 | #line 5 "C:/flexprop/include/propeller2.h"
00000                 | #line 56 "C:/flexprop/include/propeller2.h"
00000                 | typedef struct _cartesian {
00000                 |    int32_t x, y;
00000                 | } cartesian_t;
00000                 | 
00000                 | 
00000                 | typedef struct _polar {
00000                 |    uint32_t r, t;
00000                 | } polar_t;
00000                 | 
00000                 | 
00000                 | typedef struct _counter64 {
00000                 |     uint32_t low, high;
00000                 | } counter64_t;
00000                 | #line 96 "C:/flexprop/include/propeller2.h"
00000                 | void _clkset(uint32_t clkmode, uint32_t clkfreq);
00000                 | void _hubset(uint32_t val);
00000                 | void _reboot(void);
00000                 | 
00000                 | 
00000                 | int _coginit(int cog, void *pgm, void *ptr);
00000                 | #line 116 "C:/flexprop/include/propeller2.h"
00000                 | void _cogstop(int cog);
00000                 | int _cogchk(int cog);
00000                 | int _cogid(void);
00000                 | 
00000                 | int _locknew(void);
00000                 | void _lockret(int lock);
00000                 | 
00000                 | int _locktry(int lock);
00000                 | int _lockrel(int lock);
00000                 | int _lockchk(int lock);
00000                 | 
00000                 | void _cogatn(uint32_t mask);
00000                 | int _pollatn(void);
00000                 | int _waitatn(void);
00000                 | 
00000                 | 
00000                 | cartesian_t _rotxy(cartesian_t coord, uint32_t t);
00000                 | cartesian_t _polxy(polar_t coord);
00000                 | polar_t _xypol(cartesian_t coord);
00000                 | 
00000                 | 
00000                 | uint32_t _rnd(void);
00000                 | 
00000                 | 
00000                 | int _clz(uint32_t val);
00000                 | int _encod(uint32_t val);
00000                 | uint32_t _isqrt(uint32_t val);
00000                 | 
00000                 | 
00000                 | uint32_t _cnt(void);
00000                 | uint32_t _cnth(void);
00000                 | counter64_t _cnthl();
00000                 | uint32_t _getsec();
00000                 | uint32_t _getms();
00000                 | uint32_t _getus();
00000                 | 
00000                 | uint32_t _pollcnt(uint32_t tick);
00000                 | void _waitcnt(uint32_t tick);
00000                 | 
00000                 | void _waitx(uint32_t cycles);
00000                 | void _waitsec(uint32_t seconds);
00000                 | void _waitms(uint32_t milliseconds);
00000                 | void _waitus(uint32_t microseconds);
00000                 | 
00000                 | 
00000                 | void _pinw(int pin, int val);
00000                 | void _pinl(int pin);
00000                 | void _pinh(int pin);
00000                 | void _pinnot(int pin);
00000                 | void _pinrnd(int pin);
00000                 | void _pinf(int pin);
00000                 | int _pinr(int pin);
00000                 | 
00000                 | 
00000                 | void _wrpin(int pin, uint32_t val);
00000                 | void _wxpin(int pin, uint32_t val);
00000                 | void _wypin(int pin, uint32_t val);
00000                 | void _akpin(int pin);
00000                 | uint32_t _rdpin(int pin);
00000                 | uint32_t _rqpin(int pin);
00000                 | 
00000                 | 
00000                 | void _pinstart(int pin, uint32_t mode, uint32_t xval, uint32_t yval);
00000                 | 
00000                 | void _pinclear(int pin);
00000                 | 
00000                 | 
00000                 | extern uint32_t _clockfreq(void);
00000                 | extern uint32_t _clockmode(void);
00000                 | #line 10 "C:/flexprop/include/simpletools.h"
00000                 | #line 14 "C:/flexprop/include/simpletools.h"
00000                 | #line 1 "C:/flexprop/include/compiler.h"
00000                 | #line 15 "C:/flexprop/include/simpletools.h"
00000                 | #line 16 "C:/flexprop/include/simpletools.h"
00000                 | #line 1 "C:/flexprop/include/libsimpletext/simpletext.h"
00000                 | #line 3 "C:/flexprop/include/libsimpletext/simpletext.h"
00000                 | #line 1 "C:/flexprop/include/stdarg.h"
00000                 | #line 4 "C:/flexprop/include/libsimpletext/simpletext.h"
00000                 | #line 12 "C:/flexprop/include/libsimpletext/simpletext.h"
00000                 | typedef struct text_struct
00000                 | {
00000                 | 
00000                 |   int (*rxChar)(struct text_struct *p);
00000                 | 
00000                 |   int (*txChar)(struct text_struct *p, int ch);
00000                 | 
00000                 |   int cogid[ 7 ];
00000                 | 
00000                 |   volatile void *devst;
00000                 | 
00000                 |   volatile int terminalEcho;
00000                 | 
00000                 | 
00000                 | 
00000                 | 
00000                 |   volatile char ecA;
00000                 |   volatile char ecB;
00000                 |   volatile char ecsA;
00000                 |   volatile char ecsB;
00000                 | } text_t;
00000                 | 
00000                 | char *_safe_gets(text_t *text, char *buf, int count)  __fromfile("libsimpletext/safe_gets.c") ;
00000                 | char *getStr(char *buf, int max)  __fromfile("libsimpletext/getStr.c") ;
00000                 | 
00000                 | float string2float(char *s, char **end)  __fromfile("libsimpletext/stringToFloat.c") ;
00000                 | int _doscanf(const char *str, const char *fmt,  unsigned long  args)  __fromfile("libsimpletext/doscanf.c") ;
00000                 | 
00000                 | const char* _scanf_getl(const char *str, int *dst, int base, unsigned width, int isSigned)  __fromfile("libsimpletext/scanf_getl.c") ;
00000                 | const char* _scanf_getf(const char *str, float *dst)  __fromfile("libsimpletext/scanf_getf.c") ;
00000                 | 
00000                 | int scan(const char *fmt, ...)  __fromfile("libsimpletext/scan.c") ;
00000                 | #line 17 "C:/flexprop/include/simpletools.h"
00000                 | #line 1 "C:/flexprop/include/simplei2c.h"
00000                 | #line 21 "C:/flexprop/include/simplei2c.h"
00000                 | #line 1 "C:/flexprop/include/propeller2.h"
00000                 | #line 22 "C:/flexprop/include/simplei2c.h"
00000                 | #line 26 "C:/flexprop/include/simplei2c.h"
00000                 | typedef struct i2c_st
00000                 | {
00000                 |   int scl_pin;
00000                 |   int sda_pin;
00000                 |   int drivescl;
00000                 | } i2c;
00000                 | #line 46 "C:/flexprop/include/simplei2c.h"
00000                 | i2c *i2c_open(i2c *bus, int sclPin, int sdaPin, int sclDrive) __fromfile("libsimplei2c/simplei2c.c");
00000                 | #line 53 "C:/flexprop/include/simplei2c.h"
00000                 | void i2c_start(i2c *bus) __fromfile("libsimplei2c/simplei2c.c");
00000                 | #line 60 "C:/flexprop/include/simplei2c.h"
00000                 | void i2c_stop(i2c *bus) __fromfile("libsimplei2c/simplei2c.c");
00000                 | #line 72 "C:/flexprop/include/simplei2c.h"
00000                 | int i2c_writeByte(i2c *bus, int byte) __fromfile("libsimplei2c/simplei2c.c");
00000                 | #line 83 "C:/flexprop/include/simplei2c.h"
00000                 | int i2c_readByte(i2c *bus, int ackState) __fromfile("libsimplei2c/simplei2c.c");
00000                 | #line 97 "C:/flexprop/include/simplei2c.h"
00000                 | int i2c_writeData(i2c *bus, const unsigned char *data, int count) __fromfile("libsimplei2c/simplei2c.c");
00000                 | #line 112 "C:/flexprop/include/simplei2c.h"
00000                 | int i2c_readData(i2c *bus, unsigned char *data, int count) __fromfile("libsimplei2c/simplei2c.c");
00000                 | #line 123 "C:/flexprop/include/simplei2c.h"
00000                 | int i2c_poll(i2c *bus, int addr) __fromfile("libsimplei2c/simplei2c.c");
00000                 | #line 18 "C:/flexprop/include/simpletools.h"
00000                 | #line 30 "C:/flexprop/include/simpletools.h"
00000                 | int input(int pin)  __fromfile("libsimpletools/input.c") ;
00000                 | #line 45 "C:/flexprop/include/simpletools.h"
00000                 | unsigned get_direction(int pin)  __fromfile("libsimpletools/getDirection.c") ;
00000                 | unsigned get_directions(int startPin, int endPin)  __fromfile("libsimpletools/getDirections.c") ;
00000                 | unsigned get_output(int pin)  __fromfile("libsimpletools/getOutput.c") ;
00000                 | unsigned get_outputs(int startPin, int endPin)  __fromfile("libsimpletools/getOutputs.c") ;
00000                 | unsigned get_states(int endPin, int startPin)  __fromfile("libsimpletools/getStates.c") ;
00000                 | void set_directions(int endPin, int startPin, unsigned int pattern)  __fromfile("libsimpletools/setDirections.c") ;
00000                 | void set_outputs(int endPin, int startPin, unsigned int pattern)  __fromfile("libsimpletools/setOutputs.c") ;
00000                 | 
00000                 | long count(int pin, long duration, int pinToCount = -1)  __fromfile("libsimpletools/count.c") ;
00000                 | 
00000                 | void dac_ctr(int pin, int channel, int dacVal)  __fromfile("libsimpletools/dac.c") ;
00000                 | void dac_ctr_res(int bits)  __fromfile("libsimpletools/dac.c") ;
00000                 | void dac_ctr_stop(void)  __fromfile("libsimpletools/dac.c") ;
00000                 | 
00000                 | void freqout(int pin, int msTime, int frequency)  __fromfile("libsimpletools/freqout.c") ;
00000                 | 
00000                 | int pwm_start(unsigned int cycleMicroseconds)  __fromfile("libsimpletools/pwm.c") ;
00000                 | void pwm_set(int pin, int channel, int tHigh)  __fromfile("libsimpletools/pwm.c") ;
00000                 | void pwm_stop(void)  __fromfile("libsimpletools/pwm.c") ;
00000                 | 
00000                 | long pulse_in(int pin, int state)  __fromfile("libsimpletools/pulseIn.c") ;
00000                 | void pulse_out(int pin, int time)  __fromfile("libsimpletools/pulseOut.c") ;
00000                 | 
00000                 | long rc_time(int pin, int state)  __fromfile("libsimpletools/rcTime.c") ;
00000                 | 
00000                 | void square_wave(int pin, int channel, int freq)  __fromfile("libsimpletools/squareWave.c") ;
00000                 | void square_wave_stop(void)  __fromfile("libsimpletools/squareWave.c") ;
00000                 | 
00000                 | 
00000                 | void square_wave_stop_pin(int pin)  __fromfile("libsimpletools/squareWave.c") ;
00000                 | #line 79 "C:/flexprop/include/simpletools.h"
00000                 | int int_fraction(int a, int b, int shift)  __fromfile("libsimpletools/squareWave.c") ;
00000                 | 
00000                 | 
00000                 | 
00000                 | 
00000                 | 
00000                 | 
00000                 | 
00000                 | 
00000                 | 
00000                 | int shift_in(int pinDat, int pinClk, int mode, int bits)  __fromfile("libsimpletools/shiftIn.c") ;
00000                 | void shift_out(int pinDat, int pinClk, int mode, int bits, int value)  __fromfile("libsimpletools/shiftOut.c") ;
00000                 | 
00000                 | 
00000     00 00 00 00 | extern unsigned int st_buscnt;
00004                 | 
00004                 | i2c *i2c_newbus(int sclPin, int sdaPin, int sclDrive)  __fromfile("libsimpletools/i2c_init.c") ;
00004                 | int i2c_out(i2c *busID, int i2cAddr, int memAddr, int memAddrCount, const unsigned char *data, int dataCount)  __fromfile("libsimpletools/i2c_out.c") ;
00004                 | int i2c_in(i2c *busID, int i2cAddr, int memAddr, int memAddrCount, unsigned char *data, int dataCount)  __fromfile("libsimpletools/i2c_in.c") ;
00004                 | int i2c_busy(i2c *busID, int i2cAddr)  __fromfile("libsimpletools/i2c_busy.c") ;
00004                 | 
00004                 | 
00004     00 00 00 00 | extern i2c *st_eeprom;
00008     00 00 00 00 | extern int st_eeInitFlag;
0000c                 | #line 114 "C:/flexprop/include/simpletools.h"
0000c                 | void ee_config(int sclPin, int sdaPin, int sclDrive)  __fromfile("libsimpletools/eeprom_initSclDrive.c") ;
0000c                 | void ee_init()  __fromfile("libsimpletools/eeprom_init.c") ;
0000c                 | void ee_putByte(unsigned char value, int addr)  __fromfile("libsimpletools/eeprom_putByte.c") ;
0000c                 | char ee_getByte(int addr)  __fromfile("libsimpletools/eeprom_getByte.c") ;
0000c                 | void ee_putInt(int value, int addr)  __fromfile("libsimpletools/eeprom_putInt.c") ;
0000c                 | int ee_getInt(int addr)  __fromfile("libsimpletools/eeprom_getInt.c") ;
0000c                 | void ee_putStr(unsigned char *s, int n, int addr)  __fromfile("libsimpletools/eeprom_putStr.c") ;
0000c                 | unsigned char* ee_getStr(unsigned char* s, int n, int addr)  __fromfile("libsimpletools/eeprom_getStr.c") ;
0000c                 | void ee_putFloat32(float value, int addr)  __fromfile("libsimpletools/eeprom_putFloat.c") ;
0000c                 | float ee_getFloat32(int addr)  __fromfile("libsimpletools/eeprom_getFloat.c") ;
0000c                 | 
0000c                 | float constrainFloat(float value, float min, float max)  __fromfile("libsimpletools/constrainFloat.c") ;
0000c                 | int constrainInt(int value, int min, int max)  __fromfile("libsimpletools/constrainInt.c") ;
0000c                 | 
0000c                 | void endianSwap(void *resultAddr, void *varAddr, int byteCount)  __fromfile("libsimpletools/endianSwap.c") ;
0000c                 | 
0000c                 | float mapFloat(float value, float fromMin, float fromMax, float toMin, float toMax)  __fromfile("libsimpletools/mapFloat.c") ;
0000c                 | int mapInt(int value, int fromMin, int fromMax, int toMin, int toMax)  __fromfile("libsimpletools/mapInt.c") ;
0000c                 | 
0000c                 | int random(int limitLow, int limitHigh)  __fromfile("libsimpletools/random.c") ;
0000c                 | 
0000c                 | 
0000c                 | void cog_end(int *coginfo)  __fromfile("libsimpletools/cogend.c") ;
0000c                 | int cog_num(int *coginfo)  __fromfile("libsimpletools/cognum.c") ;
0000c                 | int* cog_run(void (*function)(void *par), int stacksize)  __fromfile("libsimpletools/cogrun.c") ;
0000c                 | #line 5 "MCP23017.h"
0000c                 | #line 1 "C:/flexprop/include/stdbool.h"
0000c                 | #line 6 "MCP23017.h"
0000c                 | #line 1 "C:/flexprop/include/stdlib.h"
0000c                 | #line 5 "C:/flexprop/include/stdlib.h"
0000c                 | #line 1 "C:/flexprop/include/sys/size_t.h"
0000c                 | 
0000c                 | 
0000c                 | 
0000c                 | 
0000c                 | 
0000c                 |   typedef  unsigned long  size_t;
0000c                 | #line 6 "C:/flexprop/include/stdlib.h"
0000c                 | #line 1 "C:/flexprop/include/sys/wchar_t.h"
0000c                 | #line 15 "C:/flexprop/include/sys/wchar_t.h"
0000c                 | typedef int wchar_t;
0000c                 | #line 24 "C:/flexprop/include/sys/wchar_t.h"
0000c                 | typedef struct _Mbstate {
0000c                 |   unsigned int total:5;
0000c                 |   unsigned int left:5;
0000c                 |   unsigned int partial:22;
0000c                 | } _Mbstate_t;
0000c                 | #line 7 "C:/flexprop/include/stdlib.h"
0000c                 | #line 1 "C:/flexprop/include/sys/null.h"
0000c                 | #line 8 "C:/flexprop/include/stdlib.h"
0000c                 | #line 22 "C:/flexprop/include/stdlib.h"
0000c                 |     double atof(const char *);
0000c                 |     int atoi(const char *)  __fromfile("libc/stdlib/atoi.c") ;
0000c                 |     long atol(const char *)  __fromfile("libc/stdlib/atoi.c") ;
0000c                 |     long long atoll(const char *);
0000c                 | 
0000c                 |   long double strtold(const char *nptr, char **endptr);
0000c                 |   double strtod(const char *nptr, char **endptr);
0000c                 |   float strtof(const char *nptr, char **endptr);
0000c                 | 
0000c                 |     long strtol(const char *nptr, char **endptr, int base)  __fromfile("libc/stdlib/strtol.c") ;
0000c                 |     unsigned long strtoul(const char *nptr, char **endptr, int base)  __fromfile("libc/stdlib/strtoul.c") ;
0000c                 |   long long strtoll(const char *nptr, char **endptr, int base);
0000c                 |   unsigned long long strtoull(const char *nptr, char **endptr, int base);
0000c                 | 
0000c                 | 
0000c                 |     int rand(void)  __fromfile("libc/stdlib/rand.c") ;
0000c                 |     void srand(unsigned int seed)  __fromfile("libc/stdlib/rand.c") ;
0000c                 | 
0000c                 |     void *malloc(size_t n)  __fromfile("libc/stdlib/malloc.c") ;
0000c                 |     void *calloc(size_t, size_t)  __fromfile("libc/stdlib/malloc.c") ;
0000c                 |     void *realloc(void *, size_t)  __fromfile("libc/stdlib/malloc.c") ;
0000c                 |     void free(void *)  __fromfile("libc/stdlib/malloc.c") ;
0000c                 | 
0000c                 | 
0000c                 |     int atexit(void (*func)(void))  __fromfile("libc/stdlib/exit.c") ;
0000c                 |      void exit(int status)  __fromfile("libc/stdlib/exit.c") ;
0000c                 |      void abort(void)  __fromfile("libc/stdlib/abort.c") ;
0000c                 |      void _Exit(int status)  __fromfile("libc/stdlib/_Exit.c") ;
0000c                 |    void _exit(int status);
0000c                 | #line 56 "C:/flexprop/include/stdlib.h"
0000c                 |    long labs(long l);
0000c                 | 
0000c                 | 
0000c                 |    long long llabs(long long ll);
0000c                 | 
0000c                 | 
0000c                 |   typedef struct {
0000c                 |     int quot, rem;
0000c                 |   } div_t;
0000c                 | 
0000c                 |   typedef struct {
0000c                 |     long int quot, rem;
0000c                 |   } ldiv_t;
0000c                 | 
0000c                 |   typedef struct {
0000c                 |     long long quot, rem;
0000c                 |   } lldiv_t;
0000c                 | 
0000c                 |   div_t div(int num, int denom);
0000c                 |   ldiv_t ldiv(long num, long denom);
0000c                 |   lldiv_t lldiv(long long num, long long denom);
0000c                 | 
0000c                 |     void qsort(void *base, size_t nmemb, size_t size, int (*compare)(const void *, const void *))  __fromfile("libc/stdlib/qsort.c") ;
0000c                 |   void *bsearch(const void *key, const void *base, size_t nmemb, size_t size,
0000c                 | 		int (*compare)(const void *, const void *));
0000c                 | 
0000c                 |     char *getenv(const char *name)  __fromfile("libc/stdlib/getenv.c") ;
0000c                 |     int putenv(const char *name)  __fromfile("libc/stdlib/putenv.c") ;
0000c                 | 
0000c                 | 
0000c     00 00 00 00 |   extern int _mb_cur_max;
00010                 | 
00010                 | 
00010                 | 
00010                 |   int mblen(const char *s, size_t n);
00010                 |   int mbtowc(wchar_t * __restrict pwc, const char * __restrict s, size_t n);
00010                 |   size_t mbstowcs(wchar_t *dest, const char *src, size_t n);
00010                 | 
00010                 | 
00010                 |   int system(const char *command);
00010                 | #line 102 "C:/flexprop/include/stdlib.h"
00010                 |     int _itoa_prec( unsigned int x, char *buf, unsigned base, int prec );
00010                 |     int _lltoa_prec( unsigned long long x, char *buf, unsigned base, int prec );
00010                 | #line 7 "MCP23017.h"
00010                 | #line 20 "MCP23017.h"
00010                 | typedef struct __using("jm_i2c.spin2") I2CBus;
00010                 | 
00010                 | typedef struct MCP23017_t
00010                 | {
00010                 |     I2CBus i2cBus;
00010                 |     uint8_t writeAddr, readAddr;
00010                 |     uint8_t dira, dirb;
00010                 | } MCP23017;
00010                 | 
00010                 | _Bool  mcp23017_begin(MCP23017 *mcp23017, uint8_t addr, int sda, int scl);
00010                 | void mcp_update_register(MCP23017 *mcp23017);
00010                 | #line 38 "MCP23017.h"
00010                 | void mcp_set_direction(MCP23017 *mcp23017, uint16_t pin, uint8_t reg, uint8_t direction);
00010                 | uint8_t mcp_get_direction(MCP23017 *mcp23017, uint16_t pin, uint8_t reg);
00010                 | 
00010                 | void mcp_set_pin(MCP23017 *mcp23017, uint16_t pin, uint8_t reg, uint8_t output);
00010                 | uint8_t mcp_get_pin(MCP23017 *mcp23017, uint16_t pin, uint8_t reg);
00010                 | 
00010                 | void mcp_set_pullup(MCP23017 *mcp23017, uint16_t pin, uint8_t reg, uint8_t output);
00010                 | uint8_t mcp_get_pullup(MCP23017 *mcp23017, uint16_t pin, uint8_t reg);
00010                 | #line 2 "C:/Users/riley.m/Tensile-Testing-Machine/Firmware/MaD_Firmware/Librarys/MCP23017/MCP23017.c"
00010                 | #line 18 "C:/Users/riley.m/Tensile-Testing-Machine/Firmware/MaD_Firmware/Librarys/MCP23017/MCP23017.c"
00010                 | static uint8_t read_register(MCP23017 *mcp23017, uint8_t addr)
00010                 | {
00010                 |     uint8_t rdata = 0xFF;
00010                 | 
00010                 |     mcp23017->i2cBus.start();
00010                 |     mcp23017->i2cBus.write(mcp23017->writeAddr);
00010                 |     mcp23017->i2cBus.write(addr);
00010                 |     mcp23017->i2cBus.start();
00010                 |     mcp23017->i2cBus.write(mcp23017->readAddr);
00010                 |     rdata = mcp23017->i2cBus.read(1);
00010                 |     mcp23017->i2cBus.stop();
00010                 |     return rdata;
00010                 | }
00010                 | 
00010                 | static  _Bool  write_register(MCP23017 *mcp23017, uint8_t addr, uint8_t value)
00010                 | {
00010                 |     int ack = 0;
00010                 | 
00010                 |     mcp23017->i2cBus.start();
00010                 |     ack = mcp23017->i2cBus.write(mcp23017->writeAddr);
00010                 |     mcp23017->i2cBus.write(addr);
00010                 |     mcp23017->i2cBus.write(value);
00010                 |     mcp23017->i2cBus.stop();
00010                 |     return ack == 0;
00010                 | }
00010                 | #line 51 "C:/Users/riley.m/Tensile-Testing-Machine/Firmware/MaD_Firmware/Librarys/MCP23017/MCP23017.c"
00010                 | _Bool  mcp23017_begin(MCP23017 *mcp23017, uint8_t addr, int sda, int scl)
00010                 | {
00010                 |     mcp23017->i2cBus.setup(scl, sda, 100, 1);
00010                 |     mcp23017->writeAddr = ((0x20 | addr) << 1) & 0b11111110;
00010                 |     mcp23017->readAddr = ((0x20 | addr) << 1) | 0b00000001;
00010                 |     int DIRAVALUE = 0b00001111;
00010                 |     int DIRBVALUE = 0xFF;
00010                 | 
00010                 |     _Bool  ack =  (0) ;
00010                 |     ack = write_register(mcp23017,  0x00 , DIRAVALUE);
00010                 |     ack &= write_register(mcp23017,  0x01 , DIRBVALUE);
00010                 |     if (read_register(mcp23017,  0x00 ) != DIRAVALUE || read_register(mcp23017,  0x01 ) != DIRBVALUE)
00010                 |     {
00010                 |         printf("Error setting up MCP23017: ACK:%d\n",ack);
00010                 |         return  (0) ;
00010                 |     }
00010                 |     return  (1) ;
00010                 | }
00010                 | 
00010                 | void mcp_update_register(MCP23017 *mcp23017)
00010                 | {
00010                 |     mcp23017->dira = read_register(mcp23017,  0x12 );
00010                 |     mcp23017->dirb = read_register(mcp23017,  0x13 );
00010                 | }
00010                 | 
00010                 | void mcp_set_direction(MCP23017 *mcp23017, uint16_t pin, uint8_t reg, uint8_t direction)
00010                 | {
00010                 |     if (reg ==  0x00 )
00010                 |     {
00010                 |         reg =  0x00 ;
00010                 |     }
00010                 |     else
00010                 |     {
00010                 |         reg =  0x01 ;
00010                 |     }
00010                 |     int value = read_register(mcp23017, reg);
00010                 |     (direction ? ((value) |= (1UL << (pin))) : ((value) &= ~(1UL << (pin))) ) ;
00010                 |     _Bool  ack = write_register(mcp23017, reg, value);
00010                 | }
00010                 | 
00010                 | uint8_t mcp_get_direction(MCP23017 *mcp23017, uint16_t pin, uint8_t reg)
00010                 | {
00010                 |     if (reg ==  0x00 )
00010                 |     {
00010                 |         return  (((mcp23017->dira) >> (pin)) & 0x01) ;
00010                 |     }
00010                 |     else
00010                 |     {
00010                 |         return  (((mcp23017->dirb) >> (pin)) & 0x01) ;
00010                 |     }
00010                 | }
00010                 | 
00010                 | void mcp_set_pin(MCP23017 *mcp23017, uint16_t pin, uint8_t reg, uint8_t state)
00010                 | {
00010                 | 
00010                 |     if (reg ==  0x00 )
00010                 |     {
00010                 |         reg =  0x12 ;
00010                 |     }
00010                 |     else
00010                 |     {
00010                 |         reg =  0x13 ;
00010                 |     }
00010                 |     int value = read_register(mcp23017, reg);
00010                 |     (state ? ((value) |= (1UL << (pin))) : ((value) &= ~(1UL << (pin))) ) ;
00010                 |     write_register(mcp23017, reg, value);
00010                 | }
00010                 | uint8_t mcp_get_pin(MCP23017 *mcp23017, uint16_t pin, uint8_t reg)
00010                 | {
00010                 |     return  (((reg == 0x00 ? mcp23017->dira : mcp23017->dirb) >> (pin)) & 0x01) ;
00010                 | }
00010                 | 
00010                 | void mcp_set_pullup(MCP23017 *mcp23017, uint16_t pin, uint8_t reg, uint8_t state)
00010                 | {
00010                 |     if (reg ==  0x00 )
00010                 |     {
00010                 |         reg =  0x02 ;
00010                 |     }
00010                 |     else
00010                 |     {
00010                 |         reg =  0x03 ;
00010                 |     }
00010                 |     int value = read_register(mcp23017, reg);
00010                 |     (state ? ((value) |= (1UL << (pin))) : ((value) &= ~(1UL << (pin))) ) ;
00010                 |     write_register(mcp23017, reg, value);
00010                 | }
00010                 | uint8_t mcp_get_pullup(MCP23017 *mcp23017, uint16_t pin, uint8_t reg)
00010                 | {
00010                 |     if (reg ==  0x00 )
00010                 |     {
00010                 |         reg =  0x02 ;
00010                 |     }
00010                 |     else
00010                 |     {
00010                 |         reg =  0x03 ;
00010                 |     }
00010                 |     return  (((read_register(mcp23017, reg)) >> (pin)) & 0x01) ;
00010                 | }
00010                 | 
